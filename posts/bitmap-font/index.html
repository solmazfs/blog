<!doctype html><html><head><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css><title>blog.solmazfs &ndash; Bitmap Font (GODOT)</title><link rel=stylesheet href=https://solmazfs.github.io/blog/css/pub.css><link rel=stylesheet href=https://solmazfs.github.io/blog/css/screen.css><link rel=stylesheet href=https://solmazfs.github.io/blog/css/custom.css><link rel=stylesheet href=https://solmazfs.github.io/blog/css/syntax.css><style>th{font-weight:400}th,td{padding:0}code a{color:inherit;text-decoration:none}.tex,.latex{text-transform:uppercase}.tex>span,.latex>span{line-height:0;text-transform:uppercase}.latex>:first-child{margin-left:-.36em;margin-right:-.15em;vertical-align:.3em;font-size:70%}.tex>:last-child,.latex>:last-child{margin-left:-.1667em;margin-right:-.125em;vertical-align:-.5ex}.table-comments{width:auto;margin:auto;float:column-top;column-span:all}.table-comments th,.table-comments td{padding-left:2pt;padding-right:2pt}.table-comments th:nth-child(3),.table-comments td:nth-child(3){text-align:left}</style></head><body translate=no><header class="counter-skip header"><a href=https://solmazfs.github.io/blog><img alt=solmazfs src=https://solmazfs.github.io/blog/images/solmazfs.svg loading=lazy></a><nav><ul><li><a href=https://solmazfs.github.io/blog/posts/>Posts</a></li><li><a href=https://solmazfs.github.io/blog/categories/>Categories</a></li><li><a href=https://solmazfs.github.io/blog/now/>Now</a></li></ul></nav></header><hr><main><aside class=counter-skip><cite>Bitmap Font (GODOT)</cite>
<cite>Apr 8, 2022</cite>
<cite>346 Words</cite>
<cite>in progress</cite><br><br><p><i>"Let's make our custom designed font for using our game."</i></p></aside><section class=counter-skip><p>In this guide we&rsquo;ll learn how to use our custom designed font image for our game.</p><h3 id=drawing-font-libresprite>drawing font [libresprite]</h3><p>In this part, we will draw the characters needed for only &ldquo;HELLO WORLD!&rdquo;.
In future, you can draw the required characters for your project with the similar logic.<small><a href=#ref1>[1]</a></small></p><ul><li>Create <cite>90x10</cite> canvas.</li><li>Fill the background with <cite>#ff00ff</cite> color.</li><li>Create a new layer and draw a total of 9 8x8 pixel squares.<ul><li>Color: <cite>#0000ff</cite></li><li>There will be 2 pixel space between each square but 1 pixel from the corners.</li></ul></li><li>Create a new layer and draw characters, &ldquo;DEHLORW! "</li></ul><p>This is how it looks after finished;</p><img alt=bitmapfont src=https://solmazfs.github.io/blog/images/game-dev/bitmap-font.png loading=lazy><br><blockquote><p>If you don&rsquo;t want to use shader for removing text background, you can remove these square&rsquo;s with using Edit>Replace Color (Shift+R) method.</p><ul><li>Replacing blue color with alpha.</li></ul></blockquote><h3 id=godot-engine>godot engine</h3><ul><li><p>Project Settings.</p><ul><li>Width/Height <cite>128x128</cite></li><li>Test Width/Height <cite>512x512</cite></li><li>Stretch Mode <cite>2d</cite> & Aspect <cite>keep</cite></li><li>Default Clear Color <cite>#0000ff</cite></li></ul></li><li><p>Copy font image to project folder.</p><ul><li>Presets <cite>2d pixel</cite> > Reimport</li></ul></li><li><p>Setup scene.</p><ul><li>Create Node2D and attach script</li></ul></li></ul><blockquote><p>variables</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl># font texture image
</span></span><span class=line><span class=cl>const FONT_TEXTURE:Texture = preload(&#34;res://spr/bitmap-font.png&#34;)
</span></span><span class=line><span class=cl># texture size
</span></span><span class=line><span class=cl>const T_SIZE = {w=90,h=10}
</span></span><span class=line><span class=cl># project window size
</span></span><span class=line><span class=cl>const WIND = {w=128,h=128}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>onready var bitmap_font:BitmapFont = BitmapFont.new()
</span></span><span class=line><span class=cl># hello world!
</span></span><span class=line><span class=cl>var chars:String = &#34;dehlorw! &#34;
</span></span></code></pre></div><blockquote><p>get every characters from image</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl># generating bitmap font
</span></span><span class=line><span class=cl>func gen_bitmap_font(_w:int,_h:int) -&gt; void:
</span></span><span class=line><span class=cl>    bitmap_font.add_texture(FONT_TEXTURE)
</span></span><span class=line><span class=cl>    bitmap_font.height = 8 # using for Label -&gt; new line &#34;\n&#34;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    var char_map:Array = []
</span></span><span class=line><span class=cl>    for y in range(1,_h,10):
</span></span><span class=line><span class=cl>        for x in range(1,_w,10):
</span></span><span class=line><span class=cl>            char_map.append(Vector2(x,y))
</span></span><span class=line><span class=cl>    for i in range(0,chars.length()):
</span></span><span class=line><span class=cl>        bitmap_font.add_char(chars.ord_at(i),0,Rect2(char_map[i],Vector2(8,8)),Vector2.ZERO,8)
</span></span></code></pre></div><blockquote><p>display text with the border</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl># display text with border
</span></span><span class=line><span class=cl>func draw_textbox_window(_text:Array) -&gt; void:
</span></span><span class=line><span class=cl>    var col:Array = [Color(&#34;#fcfcfc&#34;),Color.black]
</span></span><span class=line><span class=cl>    var longest:String= &#34;&#34;
</span></span><span class=line><span class=cl>    for i in _text:
</span></span><span class=line><span class=cl>    if longest.length() &lt; i.length():
</span></span><span class=line><span class=cl>        longest = i
</span></span><span class=line><span class=cl>    var box_w:int = longest.length()*8+8
</span></span><span class=line><span class=cl>    var box_h:int = _text.size()*9+9
</span></span><span class=line><span class=cl>    var center:Dictionary = {x=WIND.w/2-(box_w)/2, y=WIND.h/2-(box_h)/2}
</span></span><span class=line><span class=cl>    # a little hack for col arr
</span></span><span class=line><span class=cl>    for m in range(3):
</span></span><span class=line><span class=cl>        draw_rect(Rect2(center.x+m,center.y+m,box_w-m*2,box_h-m*2),col[m-1])
</span></span><span class=line><span class=cl>    for t in _text.size():
</span></span><span class=line><span class=cl>        draw_string(bitmap_font,Vector2(center.x+3+2,center.y+3+2+t*9),_text[t],col[0])
</span></span></code></pre></div><blockquote><p>call gen_bitmap_font() function at first</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>func _ready() -&gt; void:
</span></span><span class=line><span class=cl>    gen_bitmap_font(T_SIZE.w,T_SIZE.h)
</span></span></code></pre></div><blockquote><p>draw text on window</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>func _draw() -&gt; void:
</span></span><span class=line><span class=cl>    draw_textbox_window([&#34;hello world!&#34;, &#34;hello&#34;, &#34;        world!&#34;])
</span></span></code></pre></div><p>Final result;</p><img alt=folder src=https://solmazfs.github.io/blog/images/game-dev/final.png width=300px loading=lazy><br><span id=ref1>[1]</span> For further reference you may want to look some NES bitmap fonts.<br><br></section></main><footer><span style=float:right><cite>Edited on Apr 23, 2022</cite></span>
<b>solmazfs</b> Â© 2021-2022 <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>BY-NC-SA 4.0</a></footer></body></html>