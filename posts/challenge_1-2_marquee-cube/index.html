<!doctype html><html><head><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css><title>blog.solmazfs &ndash; Challenge 1-2: Marquee effect&Cube animation</title><link rel=stylesheet href=https://solmazfs.github.io/blog/css/pub.css><link rel=stylesheet href=https://solmazfs.github.io/blog/css/screen.css><link rel=stylesheet href=https://solmazfs.github.io/blog/css/custom.css><link rel=stylesheet href=https://solmazfs.github.io/blog/css/syntax.css><style>th{font-weight:400}th,td{padding:0}code a{color:inherit;text-decoration:none}.tex,.latex{text-transform:uppercase}.tex>span,.latex>span{line-height:0;text-transform:uppercase}.latex>:first-child{margin-left:-.36em;margin-right:-.15em;vertical-align:.3em;font-size:70%}.tex>:last-child,.latex>:last-child{margin-left:-.1667em;margin-right:-.125em;vertical-align:-.5ex}.table-comments{width:auto;margin:auto;float:column-top;column-span:all}.table-comments th,.table-comments td{padding-left:2pt;padding-right:2pt}.table-comments th:nth-child(3),.table-comments td:nth-child(3){text-align:left}</style></head><body translate=no><header class="counter-skip header"><a href=https://solmazfs.github.io/blog><img alt=solmazfs src=https://solmazfs.github.io/blog/images/solmazfs.svg loading=lazy></a><nav class=navbar><ul><li><a href=https://solmazfs.github.io/blog/posts/>Posts</a></li><li><a href=https://solmazfs.github.io/blog/categories/>Categories</a></li><li><a href=https://solmazfs.github.io/blog/now/>Now</a></li><li><a href=https://solmazfs.github.io/blog/projects/>Projects</a></li></ul></nav></header><hr><main><aside class=counter-skip><cite>Challenge 1-2: Marquee effect&Cube animation</cite>
<cite>Sep 28, 2022</cite>
<cite>321 Words</cite>
<cite>in progress</cite><br><br><p><i>"Marquee effect for text animation and drawing 3d looking cube."</i></p></aside><section class=counter-skip><p>In this challenge 1, the goal is make text infinite scrolling along the y axis.
It might be usefull for intro or something.
I&rsquo;ve also add animating 3d looking cube for making it more interesting and this should be challenge 2.
For these i&rsquo;ve used &ldquo;raylib&rdquo; videogame library.</p><h3 id=the-code>The code:</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>#include &lt;stdio.h&gt;
</span></span><span class=line><span class=cl>#include &lt;math.h&gt; // calculating sin and cos
</span></span><span class=line><span class=cl>#include &#34;raylib.h&#34;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>int main() {
</span></span><span class=line><span class=cl>    const int screenWidth = 512;
</span></span><span class=line><span class=cl>    const int screenHeight = 512;
</span></span><span class=line><span class=cl>    const int canvasWidth = 128;
</span></span><span class=line><span class=cl>    const int canvasHeight = 128;
</span></span><span class=line><span class=cl>    InitWindow(screenWidth,screenHeight,&#34;challenge 1-2&#34;);
</span></span><span class=line><span class=cl>    SetWindowState(FLAG_VSYNC_HINT);
</span></span><span class=line><span class=cl>    SetTargetFPS(60);
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    // initialize texture &amp; camera
</span></span><span class=line><span class=cl>    RenderTexture2D target = LoadRenderTexture(canvasWidth,canvasHeight);
</span></span><span class=line><span class=cl>    Rectangle source = {0,-canvasHeight,target.texture.width,-target.texture.height};
</span></span><span class=line><span class=cl>    Rectangle dest = {0,0,screenWidth,screenHeight};
</span></span><span class=line><span class=cl>    Camera2D camera = {0};
</span></span><span class=line><span class=cl>    camera.zoom = 1.0f;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    Font alagard = LoadFont(&#34;resources/alagard.png&#34;); // custom font
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    char *intro = &#34;HELLO WORLD!&#34;;
</span></span><span class=line><span class=cl>    float scroll_speed = 1.0f;
</span></span><span class=line><span class=cl>    float current_left = canvasWidth+8;
</span></span><span class=line><span class=cl>    float left_corner = -(MeasureText(intro, alagard.baseSize*1.0f)-8);
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    // cube timer &amp; drawing position
</span></span><span class=line><span class=cl>    float t = 0;
</span></span><span class=line><span class=cl>    float rotation_speed = 0.03f;
</span></span><span class=line><span class=cl>    Vector2 p[4];
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    while (!WindowShouldClose()) {
</span></span><span class=line><span class=cl>        // scroll timer
</span></span><span class=line><span class=cl>        current_left -= scroll_speed;
</span></span><span class=line><span class=cl>        if (current_left &lt;= left_corner ) {
</span></span><span class=line><span class=cl>            current_left = canvasWidth+8;
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>        // cube timer - &#34;not perfect one&#34;
</span></span><span class=line><span class=cl>        t += rotation_speed;
</span></span><span class=line><span class=cl>        if (t &gt;=1.5f) {
</span></span><span class=line><span class=cl>            t = 0;
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>        BeginTextureMode(target);
</span></span><span class=line><span class=cl>            ClearBackground(RAYWHITE);
</span></span><span class=line><span class=cl>            BeginMode2D(camera);
</span></span><span class=line><span class=cl>                DrawFPS(4,4);
</span></span><span class=line><span class=cl>                // drawing rectangle - for the bg and seeing pixel scale
</span></span><span class=line><span class=cl>                Rectangle rec = {(float)128/2,(float)128/2-40,60,60};
</span></span><span class=line><span class=cl>                Vector2 og = {0,0};
</span></span><span class=line><span class=cl>                DrawRectanglePro(rec,og,45,BLACK);
</span></span><span class=line><span class=cl>                // drawing animated 3d looking cube
</span></span><span class=line><span class=cl>                for (int i=0; i&lt;4; i++) {
</span></span><span class=line><span class=cl>                    float x = 64+cos(t+((float)i/4.0*M_PI*2))*20;
</span></span><span class=line><span class=cl>                    float y = 56+sin(t+((float)i/4.0*M_PI*2))*20;
</span></span><span class=line><span class=cl>                    p[i] = (Vector2){x,y};
</span></span><span class=line><span class=cl>                }
</span></span><span class=line><span class=cl>                for (int i=1; i&lt;5; i++) {
</span></span><span class=line><span class=cl>                    int j = i%4+1;
</span></span><span class=line><span class=cl>                    DrawLine(p[i-1].x,p[i-1].y,p[i-1].x,p[i-1].y+20,RAYWHITE);
</span></span><span class=line><span class=cl>                    DrawLine(p[i-1].x,p[i-1].y,p[j-1].x,p[j-1].y,RAYWHITE);
</span></span><span class=line><span class=cl>                    DrawLine(p[i-1].x,p[i-1].y+20,p[j-1].x,p[j-1].y+20,RAYWHITE);
</span></span><span class=line><span class=cl>                }
</span></span><span class=line><span class=cl>                // drawing text with custom font
</span></span><span class=line><span class=cl>                DrawTextEx(alagard,intro,(Vector2){current_left,108},alagard.baseSize*1.0f,1.0f,RED);
</span></span><span class=line><span class=cl>            EndMode2D();
</span></span><span class=line><span class=cl>        EndTextureMode();
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        BeginDrawing();
</span></span><span class=line><span class=cl>            DrawTexturePro(target.texture,source,dest,(Vector2){0,0},0,WHITE);
</span></span><span class=line><span class=cl>        EndDrawing();
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>    UnloadRenderTexture(target);
</span></span><span class=line><span class=cl>    UnloadFont(alagard);
</span></span><span class=line><span class=cl>    CloseWindow();
</span></span><span class=line><span class=cl>    return 0;
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=the-output-will-look-like-this>The output will look like this:</h3><p><small>*drop fps happened while recording.</small></p><img alt=folder src=https://solmazfs.github.io/blog/images/game-dev/raylib_marquee-output.gif width=300px loading=lazy><h3 id=references>References</h3><p><ref id=ref1>This is the reference i&rsquo;ve used for the pixel perfect camera: <a href="https://www.raylib.com/examples/core/loader.html?name=core_smooth_pixelperfect">smooth pixel-perfect camera</a></ref>
<ref id=ref2>Custom font image from raylib repo: <a href=https://github.com/raysan5/raylib/blob/0abba4dc1854e71f58b252e840058178ea845e25/examples/text/resources/fonts/alagard.png>alagard.png</a></ref>
<ref id=ref2>This is the reference i&rsquo;ve used for the 3d cube animation: <a href="https://www.youtube.com/watch?v=HIFhRacJXPY">PICO8 (fake 3D?) CAD BGF 2019</a></ref></p></section></main><footer><span style=float:right><cite>Edited on Sep 29, 2022</cite></span>
<b>solmazfs</b> Â© 2021-2022 <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>BY-NC-SA 4.0</a></footer></body></html>